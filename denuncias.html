<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DENUNCIAS 2026 — PMT CHIMALTENANGO</title>

<link rel="manifest" href="manifest.webmanifest">
<meta name="theme-color" content="#ff4fd8">

<style>
/* ======== ESTILO ORIGINAL PRO (NO TOCADO) ======== */
body{
  margin:0;
  background: radial-gradient(circle at top left,#0ff2,transparent 60%),
              radial-gradient(circle at top right,#f0f2,transparent 60%),
              #050014;
  font-family: system-ui,Segoe UI;
  color:#fff;
}
.panel{
  max-width:1100px;
  margin:40px auto;
  padding:30px;
  border-radius:30px;
  background:#070018;
  box-shadow:0 0 40px #ff00cc88;
}
h1{
  text-align:center;
  color:#ff77ff;
  text-shadow:0 0 20px #ff00ff;
}
label{
  font-size:.8rem;
  color:#ccc;
}
input,select,textarea{
  width:100%;
  margin-top:4px;
  margin-bottom:12px;
  padding:10px 14px;
  border-radius:999px;
  border:1px solid #ff4fd8;
  background:#0c0026;
  color:#fff;
}
textarea{
  border-radius:20px;
  min-height:90px;
}
button{
  background:linear-gradient(135deg,#ff00cc,#ffcc00);
  border:none;
  padding:10px 30px;
  border-radius:999px;
  font-weight:bold;
  cursor:pointer;
}
.msg{
  margin-top:12px;
  font-size:.85rem;
}
</style>
</head>

<body>

<div class="panel">
<h1>DENUNCIAS 2026 — PMT CHIMALTENANGO</h1>

<form id="formDenuncia">

<label>Fecha *</label>
<input type="date" id="fecha" required>

<label>Hora *</label>
<input type="time" id="hora" required>

<label>Placa / DPI / Motor</label>
<input type="text" id="placa">

<label>Tipo de denuncia *</label>
<select id="tipo">
  <option>Transporte ilegal</option>
  <option>Contaminación auditiva</option>
  <option>Exceso de pasajeros</option>
  <option>Conducción peligrosa</option>
</select>

<label>Lugar *</label>
<input type="text" id="lugar" required>

<label>Descripción del hecho *</label>
<textarea id="descripcion" required></textarea>

<label>Observaciones internas (PMT)</label>
<textarea id="observaciones"></textarea>

<button type="submit">AGREGAR DENUNCIA</button>

<div class="msg" id="estado"></div>
</form>
</div>

<script>
const ENDPOINT = "https://script.google.com/macros/s/AKfycbxEaxAeBVeS4Pk8VO-2HNaM4AA5YdhwTYK8KK5QQK4taFV35JCa8Cs-JHwwQbuRRMYHVw/exec";

document.getElementById("formDenuncia").addEventListener("submit", async e=>{
  e.preventDefault();

  const data = {
    fecha: fecha.value,
    hora: hora.value,
    placa: placa.value,
    tipo: tipo.value,
    lugar: lugar.value,
    descripcion: descripcion.value,
    observaciones: observaciones.value
  };

  estado.textContent = "Enviando denuncia…";

  try{
    const res = await fetch(ENDPOINT,{
      method:"POST",
      body:JSON.stringify(data)
    });

    if(res.ok){
      estado.textContent = "✅ Denuncia registrada correctamente";
      e.target.reset();
    }else{
      estado.textContent = "❌ Error al guardar la denuncia";
    }
  }catch(err){
    estado.textContent = "❌ Sin conexión con el servidor";
  }
});
</script>

</body>
</html>
