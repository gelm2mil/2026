<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Hechos de Tránsito — GELM 2026</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- LIBRERÍAS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>

<style>
body{
  background:#050109;
  color:#e9f9ff;
  font-family:Segoe UI,system-ui;
  margin:0;
  padding:20px;
}
.panel{
  max-width:1000px;
  margin:auto;
  background:#020510;
  padding:25px;
  border-radius:22px;
  box-shadow:0 0 30px #00ffc8;
}
h1{text-align:center;color:#00ffc8;}
h3{color:#00ffc8;margin:22px 0 10px;}
h4{color:#9cb3d8;margin:15px 0 8px;font-size:.8rem;}
label{font-size:.7rem;color:#9cb3d8;text-transform:uppercase;}

.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
  gap:10px;
}

input,select,textarea{
  width:100%;
  padding:10px;
  border-radius:10px;
  border:1px solid #00ffc8;
  background:#000;
  color:#fff;
}

textarea{min-height:120px}

canvas{
  width:100%;
  height:180px;
  background:#fff;
  border-radius:12px;
  border:2px dashed #00ffc8;
  touch-action:none;
}

.actions{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
  gap:10px;
  margin-top:18px;
}

button{
  padding:12px;
  border-radius:999px;
  border:none;
  font-weight:bold;
  cursor:pointer;
}
.btn-save{background:#00ffc8;}
.btn-pdf{background:#b000ff;color:#fff;}
.btn-word{background:#007bff;color:#fff;}
.btn-excel{background:#28a745;color:#fff;}
.btn-del{background:#ff0033;color:#fff;}

footer{text-align:center;font-size:10px;opacity:.6;margin-top:18px;}
</style>
</head>

<body>
<div class="panel">
<h1>HECHOS DE TRÁNSITO — GELM 2026</h1>

<div class="grid">
  <input type="date" id="fecha">
  <input type="time" id="hora">
  <select id="tipo">
    <option>Colisión Simple</option>
    <option>Colisión Múltiple</option>
    <option>Atropello</option>
    <option>Daños Materiales</option>
  </select>
</div>

<input id="direccion" placeholder="Dirección">

<h3>Vehículo A</h3>
<div class="grid">
  <input id="a_placa" placeholder="Placa">
  <input id="a_nombre" placeholder="Conductor A">
</div>

<h3>Vehículo B</h3>
<div class="grid">
  <input id="b_placa" placeholder="Placa">
  <input id="b_nombre" placeholder="Conductor B">
</div>

<h3>Nota / Acuerdo</h3>
<textarea id="nota"></textarea>

<div class="actions">
  <button class="btn-save" onclick="guardar()">Guardar</button>
</div>

<footer>© 2026 — GELM</footer>
</div>

<script>
const SHEETS_URL = "https://script.google.com/macros/s/AKfycbwEDeGDq6DnRo6mqbVZPp-hpu_bBjOlRw4Tpp22Vy2-A2YVY_kBb0zkGbAKjm_WzfKGFQ/exec";

function guardar(){
  const r = {
    fecha: fecha.value,
    hora: hora.value,
    tipo: tipo.value,
    direccion: direccion.value,
    a:{ placa:a_placa.value, nombre:a_nombre.value },
    b:{ placa:b_placa.value, nombre:b_nombre.value },
    nota: nota.value,
    userAgent: navigator.userAgent
  };

  fetch(SHEETS_URL,{
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body: JSON.stringify(r)
  })
  .then(res => res.text())
  .then(t => alert("ENVIADO A SHEETS: " + t))
  .catch(err => alert("ERROR: " + err));
}
</script>
</body>
</html>
